{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/adapters/readonly/index.tsx"],"names":[],"mappings":";;;AACA,6CAA4C;AAC5C,iDAA6C;AAI7C,MAAa,eAAgB,SAAQ,4BAAY;IAG/C;;QACE,KAAK,EAAE,CAAC;QAHF,eAAU,GAAqB,IAAI,CAAC;QAkC5C,YAAO,GAAG,GAAkB,EAAE;YAC5B,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;YACtC,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;QAC3B,CAAC,CAAC;QAhCA,MAAM,WAAW,GACf,MAAA,OAAO,CAAC,GAAG,CAAC,sBAAsB,mCAAI,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC;QACjE,IAAI,CAAC,WAAW,EAAE;YAChB,OAAO,CAAC,IAAI,CAAC,4CAA4C,CAAC,CAAC;SAC5D;aAAM;YACL,IAAI,CAAC,UAAU,GAAG,IAAI,mBAAS,CAAC,WAAW,CAAC,CAAC;SAC9C;IACH,CAAC;IAED,IAAI,SAAS;QACX,OAAO,IAAI,CAAC;IACd,CAAC;IAED,IAAI,WAAW;QACb,OAAO,KAAK,CAAC;IACf,CAAC;IAED,IAAI,SAAS;QACX,OAAO,IAAI,CAAC,UAAU,CAAC;IACzB,CAAC;IAED,mBAAmB,CAAC,aAA4B;QAC9C,MAAM,IAAI,KAAK,CAAC,2CAA2C,CAAC,CAAC;IAC/D,CAAC;IAED,eAAe,CAAC,YAAyB;QACvC,MAAM,IAAI,KAAK,CAAC,2CAA2C,CAAC,CAAC;IAC/D,CAAC;IAOD,UAAU;QACR,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAC1B,CAAC;CACF;AA3CD,0CA2CC","sourcesContent":["import type { Transaction } from \"@solana/web3.js\";\nimport { PublicKey } from \"@solana/web3.js\";\nimport { EventEmitter } from \"eventemitter3\";\n\nimport type { WalletAdapter } from \"../types\";\n\nexport class ReadonlyAdapter extends EventEmitter implements WalletAdapter {\n  private _publicKey: PublicKey | null = null;\n\n  constructor() {\n    super();\n\n    const localPubkey =\n      process.env.REACT_APP_LOCAL_PUBKEY ?? process.env.LOCAL_PUBKEY;\n    if (!localPubkey) {\n      console.warn(\"LOCAL_PUBKEY not set for readonly provider\");\n    } else {\n      this._publicKey = new PublicKey(localPubkey);\n    }\n  }\n\n  get connected(): boolean {\n    return true;\n  }\n\n  get autoApprove(): boolean {\n    return false;\n  }\n\n  get publicKey(): PublicKey | null {\n    return this._publicKey;\n  }\n\n  signAllTransactions(_transactions: Transaction[]): Promise<Transaction[]> {\n    throw new Error(\"readonly adapter cannot sign transactions\");\n  }\n\n  signTransaction(_transaction: Transaction): Promise<Transaction> {\n    throw new Error(\"readonly adapter cannot sign transactions\");\n  }\n\n  connect = (): Promise<void> => {\n    this.emit(\"connect\", this._publicKey);\n    return Promise.resolve();\n  };\n\n  disconnect(): void {\n    this.emit(\"disconnect\");\n  }\n}\n"]}