{"version":3,"file":"useAddressName.js","sourceRoot":"","sources":["../../../src/hooks/useAddressName.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,eAAe,EAAE,UAAU,EAAE,MAAM,sBAAsB,CAAA;AAElE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAA;AAEzC,OAAO,EAAE,iBAAiB,EAAE,MAAM,qCAAqC,CAAA;AACvE,OAAO,EAAE,sBAAsB,EAAE,MAAM,oBAAoB,CAAA;AAE3D,MAAM,CAAC,MAAM,cAAc,GAAG,CAC5B,UAAsB,EACtB,OAA8B,EAC9B,aAAa,GAAG,sBAAsB,EAKtC,EAAE;IACF,MAAM,EAAE,MAAM,EAAE,GAAG,iBAAiB,EAAE,CAAA;IACtC,MAAM,CAAC,WAAW,EAAE,cAAc,CAAC,GAAG,QAAQ,EAAsB,CAAA;IACpE,MAAM,CAAC,WAAW,EAAE,cAAc,CAAC,GAAG,QAAQ,CAAU,IAAI,CAAC,CAAA;IAE7D,MAAM,WAAW,GAAG,GAAS,EAAE;QAC7B,IAAI;YACF,cAAc,CAAC,IAAI,CAAC,CAAA;YACpB,IAAI,OAAO,EAAE;gBACX,MAAM,CAAC,WAAW,CAAC,GAAG,MAAM,eAAe,CAAC,aAAa,CAAC,CAAA;gBAC1D,MAAM,CAAC,GAAG,MAAM,UAAU,CAAC,UAAU,EAAE,OAAO,EAAE,WAAW,CAAC,CAAA;gBAC5D,cAAc,CAAC,CAAC,CAAC,CAAA;aAClB;SACF;gBAAS;YACR,cAAc,CAAC,KAAK,CAAC,CAAA;SACtB;IACH,CAAC,CAAA,CAAA;IAED,OAAO,CAAC,GAAG,EAAE;QACX,KAAK,WAAW,EAAE,CAAA;IACpB,CAAC,EAAE,CAAC,UAAU,EAAE,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,QAAQ,EAAE,EAAE,aAAa,EAAE,MAAM,CAAC,CAAC,CAAA;IAE5D,OAAO,EAAE,WAAW,EAAE,WAAW,EAAE,WAAW,EAAE,CAAA;AAClD,CAAC,CAAA","sourcesContent":["import { findNamespaceId, tryGetName } from '@cardinal/namespaces'\nimport type { Connection, PublicKey } from '@solana/web3.js'\nimport { useMemo, useState } from 'react'\n\nimport { useWalletIdentity } from '../providers/WalletIdentityProvider'\nimport { TWITTER_NAMESPACE_NAME } from '../utils/constants'\n\nexport const useAddressName = (\n  connection: Connection,\n  address: PublicKey | undefined,\n  namespaceName = TWITTER_NAMESPACE_NAME\n): {\n  displayName: string | undefined\n  loadingName: boolean\n  refreshName: () => void\n} => {\n  const { handle } = useWalletIdentity()\n  const [displayName, setDisplayName] = useState<string | undefined>()\n  const [loadingName, setLoadingName] = useState<boolean>(true)\n\n  const refreshName = async () => {\n    try {\n      setLoadingName(true)\n      if (address) {\n        const [namespaceId] = await findNamespaceId(namespaceName)\n        const n = await tryGetName(connection, address, namespaceId)\n        setDisplayName(n)\n      }\n    } finally {\n      setLoadingName(false)\n    }\n  }\n\n  useMemo(() => {\n    void refreshName()\n  }, [connection, address?.toString(), namespaceName, handle])\n\n  return { displayName, loadingName, refreshName }\n}\n"]}