"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useReverseEntry = void 0;
const tslib_1 = require("tslib");
const namespaces_1 = require("@cardinal/namespaces");
const react_query_1 = require("react-query");
const useReverseEntry = (connection, namespaceName, pubkey) => {
    return (0, react_query_1.useQuery)(['useReverseEntry', namespaceName, pubkey === null || pubkey === void 0 ? void 0 : pubkey.toString()], () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
        if (!pubkey || !connection)
            return;
        const [namespaceId] = yield (0, namespaces_1.findNamespaceId)(namespaceName);
        const reverseEntry = yield (0, namespaces_1.getReverseEntry)(connection, pubkey, namespaceId);
        return reverseEntry || undefined;
    }), { refetchOnMount: false, refetchOnWindowFocus: false });
};
exports.useReverseEntry = useReverseEntry;
//# sourceMappingURL=useReverseEntry.js.map