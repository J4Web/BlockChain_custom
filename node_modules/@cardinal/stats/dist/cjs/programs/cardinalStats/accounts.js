"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getStatsEntry = void 0;
const tslib_1 = require("tslib");
const anchor_1 = require("@project-serum/anchor");
const constants_1 = require("./constants");
const pda_1 = require("./pda");
const getStatsEntry = (connection, name) => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
    // eslint-disable-next-line @typescript-eslint/ban-ts-comment
    // @ts-ignore
    const provider = new anchor_1.AnchorProvider(connection, null, {});
    const statsProgram = new anchor_1.Program(constants_1.STATS_IDL, constants_1.STATS_ADDRESS, provider);
    const [statsEntryId] = yield (0, pda_1.findStatsEntryId)(name);
    const parsed = yield statsProgram.account.statsEntry.fetch(statsEntryId);
    return {
        parsed,
        pubkey: statsEntryId,
    };
});
exports.getStatsEntry = getStatsEntry;
//# sourceMappingURL=accounts.js.map