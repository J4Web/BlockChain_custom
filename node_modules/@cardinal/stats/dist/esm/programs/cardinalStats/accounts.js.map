{"version":3,"file":"accounts.js","sourceRoot":"","sources":["../../../../src/programs/cardinalStats/accounts.ts"],"names":[],"mappings":";AACA,OAAO,EAAE,cAAc,EAAE,OAAO,EAAE,MAAM,uBAAuB,CAAC;AAIhE,OAAO,EAAE,aAAa,EAAE,SAAS,EAAE,MAAM,aAAa,CAAC;AACvD,OAAO,EAAE,gBAAgB,EAAE,MAAM,OAAO,CAAC;AAEzC,MAAM,CAAC,MAAM,aAAa,GAAG,CAC3B,UAAsB,EACtB,IAAY,EAC0B,EAAE;IACxC,6DAA6D;IAC7D,aAAa;IACb,MAAM,QAAQ,GAAG,IAAI,cAAc,CAAC,UAAU,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;IAC1D,MAAM,YAAY,GAAG,IAAI,OAAO,CAC9B,SAAS,EACT,aAAa,EACb,QAAQ,CACT,CAAC;IAEF,MAAM,CAAC,YAAY,CAAC,GAAG,MAAM,gBAAgB,CAAC,IAAI,CAAC,CAAC;IACpD,MAAM,MAAM,GAAG,MAAM,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;IACzE,OAAO;QACL,MAAM;QACN,MAAM,EAAE,YAAY;KACrB,CAAC;AACJ,CAAC,CAAA,CAAC","sourcesContent":["import type { AccountData } from \"@cardinal/common\";\nimport { AnchorProvider, Program } from \"@project-serum/anchor\";\nimport type { Connection } from \"@solana/web3.js\";\n\nimport type { STATS_PROGRAM, StatsEntryData } from \"./constants\";\nimport { STATS_ADDRESS, STATS_IDL } from \"./constants\";\nimport { findStatsEntryId } from \"./pda\";\n\nexport const getStatsEntry = async (\n  connection: Connection,\n  name: string\n): Promise<AccountData<StatsEntryData>> => {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  const provider = new AnchorProvider(connection, null, {});\n  const statsProgram = new Program<STATS_PROGRAM>(\n    STATS_IDL,\n    STATS_ADDRESS,\n    provider\n  );\n\n  const [statsEntryId] = await findStatsEntryId(name);\n  const parsed = await statsProgram.account.statsEntry.fetch(statsEntryId);\n  return {\n    parsed,\n    pubkey: statsEntryId,\n  };\n};\n"]}