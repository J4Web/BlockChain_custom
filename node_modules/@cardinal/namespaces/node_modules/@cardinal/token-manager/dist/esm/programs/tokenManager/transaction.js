import { BN } from "@project-serum/anchor";
import { tryGetAccount } from "../../utils";
import { getMintCounter } from "./accounts";
import { initMintCounter } from "./instruction";
import { findMintCounterId } from "./pda";
export const withInitMintCounter = async (transaction, connection, wallet, mint) => {
    const [mintCounterId] = await findMintCounterId(mint);
    const mintCounterData = await tryGetAccount(() => getMintCounter(connection, mintCounterId));
    if (!mintCounterData) {
        transaction.add(await initMintCounter(connection, wallet, mint));
    }
    return [(mintCounterData === null || mintCounterData === void 0 ? void 0 : mintCounterData.parsed.count) || new BN(0), transaction];
};
//# sourceMappingURL=transaction.js.map