{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../src/utils.ts"],"names":[],"mappings":"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","sourcesContent":["import * as web3 from \"@solana/web3.js\";\n\nconst networkURLs: { [s: string]: string } = {\n  [\"mainnet-beta\"]: \"https://ssc-dao.genesysgo.net/\",\n  mainnet: \"https://ssc-dao.genesysgo.net/\",\n  devnet: \"https://psytrbhymqlkfrhudd.dev.genesysgo.net:8899/\",\n  testnet: \"https://api.testnet.solana.com/\",\n  localnet: \"http://localhost:8899/\",\n};\n\n/**\n * Create and return new Connection object\n * @param cluster\n * @param defaultCluster\n * @returns\n */\nexport const connectionFor = (\n  cluster: string | null,\n  defaultCluster = \"mainnet\"\n): web3.Connection => {\n  return new web3.Connection(\n    process.env.RPC_URL || (networkURLs[cluster || defaultCluster] as string),\n    \"recent\"\n  );\n};\n\nexport function getQueryParam(url: string, name: string) {\n  if (!url || !name) return null;\n  const q = url.match(new RegExp(\"[?&]\" + name + \"=([^&#]*)\"));\n  return q && q[1];\n}\n\nexport function getExpirationString(expiration: number, UTCSecondsNow: number) {\n  let day = (expiration - UTCSecondsNow) / 60 / 60 / 24;\n  let hour = ((expiration - UTCSecondsNow) / 60 / 60) % 24;\n  let minute = ((expiration - UTCSecondsNow) / 60) % 60;\n  let second = (expiration - UTCSecondsNow) % 60;\n  const floorOrCeil = (n: number) =>\n    expiration - UTCSecondsNow > 0 ? Math.floor(n) : Math.ceil(n);\n\n  day = day < 0 ? 0 : day;\n  hour = hour < 0 ? 0 : hour;\n  minute = minute < 0 ? 0 : minute;\n  second = second < 0 ? 0 : second;\n\n  return `${floorOrCeil(day) ? `${floorOrCeil(day)}d` : \"\"} ${\n    floorOrCeil(hour) ? `${floorOrCeil(hour)}h` : \"\"\n  } ${floorOrCeil(minute) ? `${floorOrCeil(minute)}m` : \"\"} ${\n    floorOrCeil(second) ? `${floorOrCeil(second)}s` : \"\"\n  }`;\n}\n\nexport function shortPubKey(\n  pubkey: web3.PublicKey | string | null | undefined\n) {\n  if (!pubkey) return \"\";\n  return `${pubkey?.toString().substring(0, 4)}..${pubkey\n    ?.toString()\n    .substring(pubkey?.toString().length - 4)}`;\n}\n\nexport function pubKeyUrl(\n  pubkey: web3.PublicKey | null | undefined,\n  cluster: string\n) {\n  if (!pubkey) return \"https://explorer.solana.com\";\n  return `https://explorer.solana.com/address/${pubkey.toString()}/metadata${\n    cluster === \"devnet\" ? \"?cluster=devnet\" : \"\"\n  }`;\n}\n\nexport function shortDateString(utc_seconds: number) {\n  return `${new Date(utc_seconds * 1000).toLocaleDateString([], {\n    month: \"2-digit\",\n    day: \"2-digit\",\n    year: \"2-digit\",\n  })} ${new Date(utc_seconds * 1000).toLocaleTimeString([], {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  })}`;\n}\n\nexport function longDateString(utcSeconds: number) {\n  return new Date(utcSeconds * 1000).toLocaleTimeString([\"en-US\"], {\n    year: \"2-digit\",\n    month: \"2-digit\",\n    day: \"2-digit\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    timeZoneName: \"short\",\n  });\n}\n\nexport function secondstoDuration(durationSeconds: number) {\n  const years = Math.floor(durationSeconds / 31449600);\n  const months = Math.floor((durationSeconds % 31449600) / 2419200);\n  const weeks = Math.floor((durationSeconds % 2419200) / 604800);\n  const days = Math.floor((durationSeconds % 604800) / 86400);\n  const hours = Math.floor((durationSeconds % 86400) / 3600);\n  const minutes = Math.floor((durationSeconds % 3600) / 60);\n  const seconds = durationSeconds % 60;\n  let duration = \"\";\n  const optionalVals = [`${years}Y`, `${months}M`, `${weeks}w`, `${days}d`];\n  const vals = [`${hours}h`, `${minutes}m`, `${seconds}s`];\n  for (const val of optionalVals) {\n    if (parseInt(val.substring(0, val.length - 1)) > 0) {\n      duration += val + \" \";\n    }\n  }\n  for (const val of vals) {\n    duration += val + \" \";\n  }\n  return duration;\n}\n\nexport const firstParam = (param: string | string[] | undefined): string => {\n  if (!param) return \"\";\n  return typeof param === \"string\" ? param : param[0] || \"\";\n};\n\nexport const camelCase = (str: string) => {\n  return str\n    .split(\" \")\n    .map((x) => x.charAt(0).toUpperCase() + x.slice(1))\n    .join(\"\");\n};\n\nexport const capitalizeFirstLetter = (value: string) => {\n  return value[0] ? value[0].toUpperCase() + value.slice(1) : \"\";\n};\n\nexport const secondsToString = (\n  requiredSeconds: number | undefined | null,\n  showSeconds = true\n) => {\n  if (!requiredSeconds || requiredSeconds <= 0) return \"0\";\n  const weeks = Math.floor(requiredSeconds / 60 / 60 / 24 / 7);\n  const days = Math.floor((requiredSeconds / 60 / 60 / 24) % 7);\n  const hours = Math.floor((requiredSeconds / 60 / 60) % 24);\n  const minutes = Math.floor((requiredSeconds / 60) % 60);\n  const seconds = Math.round(requiredSeconds % 60);\n\n  return `${weeks ? `${weeks}w ` : \"\"} ${days ? `${days}d ` : \"\"}${\n    !weeks && hours ? `${hours}h ` : \"\"\n  }${!weeks && minutes ? `${minutes}m ` : \"\"}${\n    seconds && showSeconds ? `${seconds}s` : \"\"\n  }`;\n};\n"]}