import { PublicKey } from "@solana/web3.js";

export function shortPubKey(pubkey: PublicKey | string | null | undefined) {
  if (!pubkey) return "";
  return `${pubkey?.toString().substring(0, 4)}..${pubkey
    ?.toString()
    .substring(pubkey?.toString().length - 4)}`;
}

export function pubKeyUrl(
  pubkey: PublicKey | null | undefined,
  cluster: string
) {
  if (!pubkey) return "https://explorer.solana.com";
  return `https://explorer.solana.com/address/${pubkey.toString()}/metadata${
    cluster === "devnet" ? "?cluster=devnet" : ""
  }`;
}

export const tryPublicKey = (
  publicKeyString: string | string[] | undefined | null
): PublicKey | null => {
  if (!publicKeyString) return null;
  try {
    return new PublicKey(publicKeyString);
  } catch (e) {
    return null;
  }
};
